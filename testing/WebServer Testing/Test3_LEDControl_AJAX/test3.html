<!DOCTYPE html>
<html>

<head>
    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=no\">
    <style>
        body {
            font-family: Arial, sans-serif;
            color: #444;
            text-align: center;
        }

        .title {
            font-size: 30px;
            font-weight: bold;
            letter-spacing: 2px;
            margin: 80px 0 55px;
        }

        .led-control {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 40px 0;
            gap: 30px;
        }

        .led-label {
            font-size: 26px;
        }

        .toggle-switch {
            position: relative;
            width: 120px;
            height: 60px;
        }

        .slider {
            position: absolute;
            width: 120px;
            height: 60px;
            background-color: #f1f1f1;
            transition: .2s;
            border-radius: 60px;
            border: 1px solid #ddd;
        }

        .slider:before {
            content: '';
            position: absolute;
            height: 52px;
            width: 52px;
            left: 4px;
            top: 4px;
            background-color: white;
            transition: .2s;
            border-radius: 50%;
            box-shadow: 0 2px 5px rgba(0, 0, 0, .3);
        }

        .slider.on {
            background-color: #4285f4;
            border: none;
        }

        .slider.on:before {
            transform: translateX(60px);
        }

        a {
            display: block;
            height: 100%;
            width: 100%;
            text-decoration: none;
        }
    </style>
    <!-- // --- auto-refresh state every 1000 ms -->
    <script>
        function applyState(s) {
            var l1 = document.getElementById('led1'); var l2 = document.getElementById('led2');
            if (l1) { l1.classList.toggle('on', !!s.led1); }
            if (l2) { l2.classList.toggle('on', !!s.led2); }
        }
        function poll() { fetch('/state').then(r => r.json()).then(applyState).catch(() => { }); }
        setInterval(poll, 1000); window.addEventListener('load', poll);
        // optional: prevent full page loads, use fetch() for faster toggles
        function toggleLed(n) {
            const l1 = document.getElementById('led1'); const l2 = document.getElementById('led2');
            let url = '/';
            if (n === 1) { url = l1.classList.contains('on') ? '/led1off' : '/led1on'; }
            else if (n === 2) { url = l2.classList.contains('on') ? '/led2off' : '/led2on'; }
            fetch(url).then(() => poll());
            return false;
        }
    </script>
</head>

<body>
    <h1 class=\"title\">LED CONTROLLER</h1>

    <!-- // LED 1 -->
    <div class=\"led-control\">
    <span class=\"led-label\">LED 1</span>
    <div class=\"toggle-switch\">
  <!-- // Keep links for compatibility, but handle clicks via JS to avoid full reload -->
  <!-- if (LED1status) { -->
      <a href=\"/led1off\" onclick=\"return toggleLed(1)\">
      <div id=\"led1\" class=\"slider on\"></div>
      </a>
  <!-- } else { -->
      <!-- <a href=\"/led1on\" onclick=\"return toggleLed(1)\">
      <div id=\"led1\" class=\"slider\"></div>
      </a> -->
  <!-- } -->
    </div></div>

  <!-- // LED 2
    <div class=\"led-control\">
    <span class=\"led-label\">LED 2</span>
    "<div class=\"toggle-switch\">
  if (LED2status) {
      "<a href=\"/led2off\" onclick=\"return toggleLed(2)\">
      "<div id=\"led2\" class=\"slider on\"></div>
      "</a>
  } else {
      "<a href=\"/led2on\" onclick=\"return toggleLed(2)\">
      "<div id=\"led2\" class=\"slider\"></div>
      "</a>
  } --> -->
    <!-- </div>
    </div> -->

</body>

</html>
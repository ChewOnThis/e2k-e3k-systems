// entry point: setup(), loop(), top-level FSM